---
name: Popover
description: Permite mostrar información sobre un elemento.
---

import CodeBlock from '@/components/landing/CodeBlock.jsx'
import Preview from '@/components/landing/Preview.astro'
import CustomPopover from '@/components/react/Popover/CustomPopover.jsx'
import Popover from '@/components/react/Popover/Popover.jsx'
import PopoverTrigger from '@/components/react/Popover/PopoverTrigger.jsx'
import PopoverContent from '@/components/react/Popover/PopoverContent.jsx'
import Button from '@/components/react/Button'

## Sobre el componente

El componente `Popover` es una herramienta para mostrar información detallada dentro de un cuadro emergente en relación con un elemento cuando se hace clic en él.

## Uso básico

Para utilizar el componente `Popover`, es necesario utilizar el componente `PopoverTrigger` y el componente `PopoverContent` juntos. El componente `PopoverTrigger` se utiliza para activar el popover, mientras que el componente `PopoverContent` se utiliza para mostrar la información.

<Preview>
  <CustomPopover client:load />
</Preview>

El código para el componente `PopoverContent` es el siguiente:

<CodeBlock client:load>

```jsx
import React from 'react'

const PopoverContent = React.forwardRef(
  ({ children, isOpen, backdrop, placement, color, rounded }, ref) => {
    if (!isOpen) return null

    const backdropClass = {
      transparent: 'bg-transparent',
      opaque: 'bg-gray-200/50 dark:bg-black/50',
      blur: 'backdrop-blur-sm'
    }

    const placementStyles = {
      top: 'bottom-full left-1/2 transform -translate-x-1/2 mb-2',
      bottom: 'top-full left-1/2 transform -translate-x-1/2 mt-2',
      left: 'right-full top-1/2 transform -translate-y-1/2 mr-2',
      right: 'left-full top-1/2 transform -translate-y-1/2 ml-2'
    }

    const roundeds = {
      none: 'rounded-none',
      sm: 'rounded-sm',
      md: 'rounded-md',
      lg: 'rounded-lg',
      full: 'rounded-full'
    }

    const colors = {
      default: 'bg-neutral-100/80 dark:bg-zinc-800/80 dark:shadow-zinc-700/10',
      primary: 'bg-blue-500/80 ',
      secondary: 'bg-indigo-500/80 ',
      success: 'bg-green-500/80 dark:bg-green-600/80 ',
      warning: 'bg-yellow-500/80 ',
      danger: 'bg-red-500/80 '
    }

    return (
      <>
        <div className={`fixed inset-0 ${backdropClass[backdrop]}`}></div>
        <div
          className={`absolute z-10 ${placementStyles[placement]}`}
          ref={ref}
        >
          <div
            className={`border-0 backdrop-blur-md shadow-lg p-4 whitespace-nowrap text-gray-800 dark:text-gray-300 ${colors[color]} ${roundeds[rounded]}`}
          >
            {children}
          </div>
        </div>
      </>
    )
  }
)

export default PopoverContent
```

</CodeBlock>

El código para el componente `PopoverTrigger` es el siguiente:

<CodeBlock client:load>

```jsx
const PopoverTrigger = ({ children, onClick }) => {
  return (
    <div className='cursor-pointer' onClick={onClick}>
      {children}
    </div>
  )
}

export default PopoverTrigger
```

</CodeBlock>

El código para el componente `Popover` es el siguiente:

<CodeBlock client:load>

```jsx
import React, { useState, useRef, useEffect } from 'react'
import PopoverContent from './PopoverContent'
import PopoverTrigger from './PopoverTrigger'

const Popover = ({
  children,
  backdrop = 'transparent',
  placement = 'bottom',
  color = 'default',
  rounded = 'md'
}) => {
  const [isOpen, setIsOpen] = useState(false)
  const popoverRef = useRef(null)
  const contentRef = useRef(null)

  useEffect(() => {
    const handleClickOutside = (event) => {
      if (contentRef.current && !contentRef.current.contains(event.target)) {
        setIsOpen(false)
      }
    }

    const handleEscape = (event) => {
      if (event.key === 'Escape') {
        setIsOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    document.addEventListener('keydown', handleEscape)

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
      document.removeEventListener('keydown', handleEscape)
    }
  }, [])

  return (
    <div className='relative' ref={popoverRef}>
      {React.Children.map(children, (child) => {
        if (child.type === PopoverTrigger) {
          return React.cloneElement(child, {
            onClick: () => setIsOpen(!isOpen)
          })
        }
        if (child.type === PopoverContent) {
          return React.cloneElement(child, {
            isOpen,
            backdrop,
            placement,
            color,
            rounded,
            ref: contentRef
          })
        }
        return child
      })}
    </div>
  )
}

export default Popover
```

</CodeBlock>

## Fondo

Para cambiar el fondo del componente, se puede utilizar el atributo `backdrop` en el componente `Popover`. Este atributo acepta los valores: `transparent`, `opaque` y `blur`.

<Preview>
  <CustomPopover client:load backdrop='transparent' title='transparent' />
  <CustomPopover client:load backdrop='opaque' title='opaque' />
  <CustomPopover client:load backdrop='blur' title='blur' />
</Preview>

<CodeBlock client:load>

```jsx
<Popover
  backdrop='transparent'
>
  <PopoverTrigger>
    <Button variant='bordered'>transparent</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  backdrop='opaque'
>
  <PopoverTrigger>
    <Button variant='bordered'>opaque</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  backdrop='blur'
>
  <PopoverTrigger>
    <Button variant='bordered'>blur</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>
```

</CodeBlock>

## Posición

Para cambiar la posición del componente, se puede utilizar el atributo `placement` en el componente `Popover`. Este atributo acepta los valores: `top`, `bottom`, `left` y `right`.

<Preview>
  <CustomPopover client:load placement='top' title='top' />
  <CustomPopover client:load placement='bottom' title='bottom' />
  <CustomPopover client:load placement='left' title='left' />
  <CustomPopover client:load placement='right' title='right' />
</Preview>

<CodeBlock client:load>

```jsx
<Popover
  placement='top'
>
  <PopoverTrigger>
    <Button variant='bordered'>top</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  placement='bottom'
>
  <PopoverTrigger>
    <Button variant='bordered'>bottom</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  placement='left'
>
  <PopoverTrigger>
    <Button variant='bordered'>left</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  placement='right'
>
  <PopoverTrigger>
    <Button variant='bordered'>right</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>
```

</CodeBlock>

## Color

Para cambiar el color del componente, se puede utilizar el atributo `color` en el componente `Popover`. Este atributo acepta los valores: `default`, `primary`, `secondary`, `success`, `warning` y `danger`.

<Preview>
  <CustomPopover client:load color='default' title='default' />
  <CustomPopover client:load color='primary' title='primary' />
  <CustomPopover client:load color='secondary' title='secondary' />
  <CustomPopover client:load color='success' title='success' />
  <CustomPopover client:load color='warning' title='warning' />
  <CustomPopover client:load color='danger' title='danger' />
</Preview>

<CodeBlock client:load>

```jsx
<Popover
  color='default'
>
  <PopoverTrigger>
    <Button variant='bordered'>default</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  color='primary'
>
  <PopoverTrigger>
    <Button variant='bordered' color='primary'>primary</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  color='secondary'
>
  <PopoverTrigger>
    <Button variant='bordered' color='secondary'>secondary</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  color='success'
>
  <PopoverTrigger>
    <Button variant='bordered' color='success'>success</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  color='warning'
>
  <PopoverTrigger>
    <Button variant='bordered' color='warning'>warning</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  color='danger'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>danger</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>
```

</CodeBlock>

## Redondeado

Para cambiar el redondeado del componente, se puede utilizar el atributo `rounded` en el componente `Popover`. Este atributo acepta los valores: `none`, `sm`, `md`, `lg` y `full`.

<Preview>
  <CustomPopover client:load rounded='none' title='none' />
  <CustomPopover client:load rounded='sm' title='sm' />
  <CustomPopover client:load rounded='md' title='md' />
  <CustomPopover client:load rounded='lg' title='lg' />
  <CustomPopover client:load rounded='full' title='full' />
</Preview>

<CodeBlock client:load>

```jsx
<Popover
  rounded='none'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>none</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  rounded='sm'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>sm</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  rounded='md'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>md</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  rounded='lg'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>lg</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>

<Popover
  rounded='full'
>
  <PopoverTrigger>
    <Button variant='bordered' color='danger'>full</Button>
  </PopoverTrigger>
  <PopoverContent>
    <p>This is the popover content!</p>
  </PopoverContent>
</Popover>
```

</CodeBlock>
@/components/landing/CodeBlock.jsx
